<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" horizontalAlign="center"
         paddingTop="4" paddingBottom="4">
    <mx:Button  icon="@Embed('image/accept.gif')"  click="sendAcceptHolidayRequest(data as Holiday);"/>

    <!--<mx:Metadata>-->
        <!--[Event(name=AcceptHolidayEvent.acceptHolidayEvent, type="flex.event.admin.AcceptHolidayEvent")]-->
    <!--</mx:Metadata>-->

    <mx:Script>
        <![CDATA[
        import flex.data.Holiday;
        import flex.service.HolidayFlexService;

        import mx.controls.Alert;

        //można było przenieść do main'a
        private function sendAcceptHolidayRequest(holiday:Holiday):void {
            var flexService:HolidayFlexService = new HolidayFlexService();
            flexService.acceptHoliday(holiday, successfullyRemoved);
            dispatchEvent(new Event('deleteRow', true));
        }

        private function successfullyRemoved() {
            // TODO nie wiem czemu nie działa
            dispatchEvent(new Event('deleteRow', true));
        }
        ]]>
    </mx:Script>
</mx:VBox>